{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/tanmaykulkarni/WebstormProjects/rick-morty-challenge/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/tanmaykulkarni/WebstormProjects/rick-morty-challenge/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/tanmaykulkarni/WebstormProjects/rick-morty-challenge/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/tanmaykulkarni/WebstormProjects/rick-morty-challenge/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react'; // Import useState & useEffect hooks\n\nimport Head from 'next/head';\nimport styles from '../styles/Home.module.css';\nvar defaultEndpoint = 'https://rickandmortyapi.com/api/character/'; // Default API endpoint\n\nexport var __N_SSP = true;\nexport default function Home(_ref) {\n  var data = _ref.data;\n  // Create an argument 'home' and capture the data\n  var info = data.info,\n      _data$results = data.results,\n      defaultResults = _data$results === void 0 ? [] : _data$results; // Destructure the results and send empty array value and destructure the same from data\n\n  var _useState = useState(defaultResults),\n      results = _useState[0],\n      updateResults = _useState[1]; // Using React's useState we can store the results in state and the update the state with more results. Rename results to defaultResults to be used as the initial state.\n\n\n  var _useState2 = useState(_objectSpread(_objectSpread({}, info), {}, {\n    current: defaultEndpoint // Define the defaultEndpoint as the current state of the page.\n\n  })),\n      page = _useState2[0],\n      updatePage = _useState2[1];\n\n  var current = page.current; // Use the current value to be updated every page by destructuring the 'current' vale from the page\n\n  useEffect(function () {\n    // Use useEffct to make request of pagination updates\n    if (current === defaultEndpoint) return; // check if the current value equals the default end point value\n\n    function request() {\n      return _request.apply(this, arguments);\n    }\n\n    function _request() {\n      _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _nextData$info;\n\n        var res, nextData;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(current);\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                nextData = _context.sent;\n                // assign nextData the value of the response in JSON format\n                updatePage(_objectSpread({\n                  // Pass the current, next data information attributes in the updatePage function\n                  current: current\n                }, nextData.info));\n\n                if ((_nextData$info = nextData.info) !== null && _nextData$info !== void 0 && _nextData$info.prev) {\n                  _context.next = 10;\n                  break;\n                }\n\n                // check if the information does not have previous value therefore replace the current results\n                updateResults(nextData.results);\n                return _context.abrupt(\"return\");\n\n              case 10:\n                updateResults(function (prev) {\n                  // Update the result and return the previous and new results\n                  return [].concat(_toConsumableArray(prev), _toConsumableArray(nextData.results));\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _request.apply(this, arguments);\n    }\n\n    request(); // Call a request function and pass 'current's' value through it\n  }, [current]);\n\n  function handleLoadMore() {\n    // Load more button function\n    updatePage(function (prev) {\n      // Update the 'page' state with new current value with the 'next' value as the as the endpoint to fetch new results\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        current: page === null || page === void 0 ? void 0 : page.next\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Rick & Morty Challenge\"\n      }), \" \", /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"../tkfavicon.ico\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"main\", {\n      className: styles.main,\n      children: [\" \", /*#__PURE__*/_jsx(\"h1\", {\n        className: styles.title,\n        children: \"Rick & Morty Challenge\"\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        className: styles.description,\n        children: [\" \", \"by Tanmay Kulkarni\"]\n      }), /*#__PURE__*/_jsxs(\"ul\", {\n        className: styles.grid,\n        children: [\" \", results.map(function (results) {\n          // By using map method create a new list of each character result\n          var id = results.id,\n              name = results.name,\n              image = results.image,\n              gender = results.gender,\n              location = results.location,\n              origin = results.origin,\n              species = results.species; // map the results by id, name, image, gender, location, origin & species\n\n          return (\n            /*#__PURE__*/\n            // Return a list by id as the key\n            _jsxs(\"li\", {\n              className: styles.card,\n              children: [/*#__PURE__*/_jsxs(\"a\", {\n                href: \"#\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  src: image,\n                  alt: '${name}} Thumbnail'\n                }), \" \", /*#__PURE__*/_jsx(\"h3\", {\n                  children: name\n                })]\n              }), /*#__PURE__*/_jsxs(\"ul\", {\n                className: styles.ulimage,\n                children: [\" \", /*#__PURE__*/_jsxs(\"li\", {\n                  children: [/*#__PURE__*/_jsx(\"strong\", {\n                    children: \"Gender: \"\n                  }), \" \", gender, \" \"]\n                }), /*#__PURE__*/_jsxs(\"li\", {\n                  children: [/*#__PURE__*/_jsx(\"strong\", {\n                    children: \"Location: \"\n                  }), \" \", location === null || location === void 0 ? void 0 : location.name, \" \"]\n                }), /*#__PURE__*/_jsxs(\"li\", {\n                  children: [/*#__PURE__*/_jsx(\"strong\", {\n                    children: \"Origin: \"\n                  }), \" \", origin === null || origin === void 0 ? void 0 : origin.name, \" \"]\n                }), /*#__PURE__*/_jsxs(\"li\", {\n                  children: [/*#__PURE__*/_jsx(\"strong\", {\n                    children: \"Species: \"\n                  }), \" \", species, \" \"]\n                })]\n              })]\n            }, id)\n          );\n        })]\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        children: [/*#__PURE__*/_jsx(\"button\", {\n          className: styles.bouncy,\n          onClick: handleLoadMore,\n          children: \"Load More\"\n        }), \" \"]\n      })]\n    }), /*#__PURE__*/_jsx(\"footer\", {\n      className: styles.footer,\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        href: \"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: [\"Powered by\", ' ', /*#__PURE__*/_jsx(\"img\", {\n          src: \"/vercel.svg\",\n          alt: \"Vercel Logo\",\n          className: styles.logo\n        })]\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}